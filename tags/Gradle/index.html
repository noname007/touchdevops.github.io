<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="Cloud &amp; DevOps" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>Gradle - Cloud &amp; DevOps</title><link rel="stylesheet" href="/css/main.css" type="text/css">
<!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">Cloud &amp; DevOps</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><span class="post__time">黄博文</span><span class="post__time"> @ </span><time datetime="2014-10-30T05:42:22.000Z" class="post__time">October 30, 2014</time><h1 class="post__title"><a href="/2014/10/30/using-jaxb-in-gradle/">在Gradle中使用jaxb</a></h1></header><div class="post__main echo"><p>jaxb，全称为Java Architecture for Xml Binding,是一种将java对象与xml建立起映射的技术。其主要提供两个功能，一是将java对象映射为xml，二是将xml映射为java对象。JAXB有1.0版和2.0版。2.0版对应的JSR（Java specification request, java规格要求）是JSR 222。jaxb中的xjc工具能够将XML Schema转换为对应的java类。支持的XML类型包括XML DTD，XSD以及WSDL。而schemagen工具则可以将具有相应annotation标记的java类转换为XML结构。</p>
<a id="more"></a>
<p>ant脚本有xjc插件来实现对xml schema文件转换为java类的工作。而由于ant任务是gradle中的一等公民，所以我们可以直接在gradle脚本中使用ant的xjc插件来实现对xml schema和java类的映射。以下代码演示了如何将xsd格式和wsdl格式的xml转换为具体的java类。</p>
<figure class="highlight groovy"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">configurations</span> {</div><div class="line">    jaxb</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">dependencies</span> {</div><div class="line">    jaxb <span class="string">'com.sun.xml.bind:jaxb-impl:2.2.7'</span></div><div class="line">    jaxb <span class="string">'com.sun.xml.bind:jaxb-xjc:2.2.7'</span></div><div class="line">}</div><div class="line"></div><div class="line">ext {</div><div class="line">    generatedSourceDir = <span class="string">'src/main/generated'</span></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">task</span> jaxb {</div><div class="line"></div><div class="line">    <span class="keyword">doLast</span> {</div><div class="line">        <span class="keyword">file</span>(generatedSourceDir).mkdirs()</div><div class="line"></div><div class="line">        <span class="keyword">ant</span>.taskdef(name: <span class="string">'xjc'</span>, classname: <span class="string">'com.sun.tools.xjc.XJCTask'</span>, <span class="keyword">classpath</span>: <span class="keyword">configurations</span>.jaxb.asPath)</div><div class="line"></div><div class="line">        <span class="keyword">ant</span>.xjc(destdir: generatedSourceDir,</div><div class="line">                <span class="keyword">package</span>: <span class="string">'jaxb.ws.ship'</span>,</div><div class="line">                schema: <span class="string">'schema/shiporder.xsd'</span></div><div class="line">        )</div><div class="line"></div><div class="line">        <span class="keyword">ant</span>.xjc(destdir: generatedSourceDir,</div><div class="line">                <span class="keyword">package</span>: <span class="string">'jaxb.ws.hello'</span>,</div><div class="line">                schema: <span class="string">'schema/weather.wsdl'</span></div><div class="line">        ) {</div><div class="line">            arg(value: <span class="string">'-wsdl'</span>)</div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line">clean {</div><div class="line">    <span class="keyword">ant</span>.<span class="keyword">delete</span>(dir: generatedSourceDir)</div><div class="line">}</div></pre></td></tr></table></figure>

<p>这里实现了将xsd和wsdl格式的xml文档转换为具体的java类。注意一点是如果wsdl中的schema过于简单，可能不会有具体的类生成。另外附上使用的示例文件。</p>
<p>shiporder.xsd文件如下：</p>
<figure class="highlight xml"><figcaption><span>shiporder.xsd</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">xs:schema</span> <span class="attribute">xmlns:xs</span>=<span class="value">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"shiporder"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">xs:complexType</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">xs:sequence</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"orderperson"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"shipto"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">xs:complexType</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">xs:sequence</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"name"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"address"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"city"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"country"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="title">xs:sequence</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">xs:complexType</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">xs:element</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"item"</span> <span class="attribute">maxOccurs</span>=<span class="value">"unbounded"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">xs:complexType</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">xs:sequence</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"title"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"note"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"quantity"</span> <span class="attribute">type</span>=<span class="value">"xs:positiveInteger"</span>/&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="title">xs:element</span> <span class="attribute">name</span>=<span class="value">"price"</span> <span class="attribute">type</span>=<span class="value">"xs:decimal"</span>/&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="title">xs:sequence</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">xs:complexType</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">xs:element</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">xs:sequence</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">xs:attribute</span> <span class="attribute">name</span>=<span class="value">"orderid"</span> <span class="attribute">type</span>=<span class="value">"xs:string"</span> <span class="attribute">use</span>=<span class="value">"required"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">xs:complexType</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">xs:element</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="title">xs:schema</span>&gt;</span></div></pre></td></tr></table></figure>

<p>weather.wsdl文件内容如下：</p>
<figure class="highlight xml"><figcaption><span>weather.wsdl</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></div><div class="line"><span class="tag">&lt;<span class="title">wsdl:definitions</span> <span class="attribute">xmlns:tm</span>=<span class="value">"http://microsoft.com/wsdl/mime/textMatching/"</span> <span class="attribute">xmlns:soapenc</span>=<span class="value">"http://schemas.xmlsoap.org/soap/encoding/"</span> <span class="attribute">xmlns:mime</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/mime/"</span> <span class="attribute">xmlns:tns</span>=<span class="value">"http://www.webserviceX.NET"</span> <span class="attribute">xmlns:soap</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/soap/"</span> <span class="attribute">xmlns:s</span>=<span class="value">"http://www.w3.org/2001/XMLSchema"</span> <span class="attribute">xmlns:soap12</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/soap12/"</span> <span class="attribute">xmlns:http</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/http/"</span> <span class="attribute">targetNamespace</span>=<span class="value">"http://www.webserviceX.NET"</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:types</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">s:schema</span> <span class="attribute">elementFormDefault</span>=<span class="value">"qualified"</span> <span class="attribute">targetNamespace</span>=<span class="value">"http://www.webserviceX.NET"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">s:complexType</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">s:sequence</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span> <span class="attribute">maxOccurs</span>=<span class="value">"1"</span> <span class="attribute">name</span>=<span class="value">"CityName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span> <span class="attribute">maxOccurs</span>=<span class="value">"1"</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">s:sequence</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">s:complexType</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">s:element</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">name</span>=<span class="value">"GetWeatherResponse"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">s:complexType</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">s:sequence</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span> <span class="attribute">maxOccurs</span>=<span class="value">"1"</span> <span class="attribute">name</span>=<span class="value">"GetWeatherResult"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">s:sequence</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">s:complexType</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">s:element</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">s:complexType</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">s:sequence</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span> <span class="attribute">maxOccurs</span>=<span class="value">"1"</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">s:sequence</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">s:complexType</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">s:element</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryResponse"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">s:complexType</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="title">s:sequence</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">minOccurs</span>=<span class="value">"0"</span> <span class="attribute">maxOccurs</span>=<span class="value">"1"</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryResult"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="title">s:sequence</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="title">s:complexType</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">s:element</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">s:element</span> <span class="attribute">name</span>=<span class="value">"string"</span> <span class="attribute">nillable</span>=<span class="value">"true"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">s:schema</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:types</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherSoapIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"parameters"</span> <span class="attribute">element</span>=<span class="value">"tns:GetWeather"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherSoapOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"parameters"</span> <span class="attribute">element</span>=<span class="value">"tns:GetWeatherResponse"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountrySoapIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"parameters"</span> <span class="attribute">element</span>=<span class="value">"tns:GetCitiesByCountry"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountrySoapOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"parameters"</span> <span class="attribute">element</span>=<span class="value">"tns:GetCitiesByCountryResponse"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherHttpGetIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CityName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherHttpGetOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"Body"</span> <span class="attribute">element</span>=<span class="value">"tns:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryHttpGetIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryHttpGetOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"Body"</span> <span class="attribute">element</span>=<span class="value">"tns:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherHttpPostIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CityName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetWeatherHttpPostOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"Body"</span> <span class="attribute">element</span>=<span class="value">"tns:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryHttpPostIn"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"CountryName"</span> <span class="attribute">type</span>=<span class="value">"s:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:message</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountryHttpPostOut"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:part</span> <span class="attribute">name</span>=<span class="value">"Body"</span> <span class="attribute">element</span>=<span class="value">"tns:string"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:message</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:portType</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherSoap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get weather report for all major cities around the world.<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherSoapIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherSoapOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get all major cities by country name(full / part).<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountrySoapIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountrySoapOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:portType</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:portType</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpGet"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get weather report for all major cities around the world.<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherHttpGetIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherHttpGetOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get all major cities by country name(full / part).<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountryHttpGetIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountryHttpGetOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:portType</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:portType</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpPost"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get weather report for all major cities around the world.<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherHttpPostIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetWeatherHttpPostOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:documentation</span> <span class="attribute">xmlns:wsdl</span>=<span class="value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>Get all major cities by country name(full / part).<span class="tag">&lt;/<span class="title">wsdl:documentation</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountryHttpPostIn"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span> <span class="attribute">message</span>=<span class="value">"tns:GetCitiesByCountryHttpPostOut"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:portType</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:binding</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherSoap"</span> <span class="attribute">type</span>=<span class="value">"tns:GlobalWeatherSoap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">soap:binding</span> <span class="attribute">transport</span>=<span class="value">"http://schemas.xmlsoap.org/soap/http"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap:operation</span> <span class="attribute">soapAction</span>=<span class="value">"http://www.webserviceX.NET/GetWeather"</span> <span class="attribute">style</span>=<span class="value">"document"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap:operation</span> <span class="attribute">soapAction</span>=<span class="value">"http://www.webserviceX.NET/GetCitiesByCountry"</span> <span class="attribute">style</span>=<span class="value">"document"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:binding</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:binding</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherSoap12"</span> <span class="attribute">type</span>=<span class="value">"tns:GlobalWeatherSoap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">soap12:binding</span> <span class="attribute">transport</span>=<span class="value">"http://schemas.xmlsoap.org/soap/http"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap12:operation</span> <span class="attribute">soapAction</span>=<span class="value">"http://www.webserviceX.NET/GetWeather"</span> <span class="attribute">style</span>=<span class="value">"document"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap12:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap12:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap12:operation</span> <span class="attribute">soapAction</span>=<span class="value">"http://www.webserviceX.NET/GetCitiesByCountry"</span> <span class="attribute">style</span>=<span class="value">"document"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap12:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">soap12:body</span> <span class="attribute">use</span>=<span class="value">"literal"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:binding</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:binding</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpGet"</span> <span class="attribute">type</span>=<span class="value">"tns:GlobalWeatherHttpGet"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">http:binding</span> <span class="attribute">verb</span>=<span class="value">"GET"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:operation</span> <span class="attribute">location</span>=<span class="value">"/GetWeather"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">http:urlEncoded</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:mimeXml</span> <span class="attribute">part</span>=<span class="value">"Body"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:operation</span> <span class="attribute">location</span>=<span class="value">"/GetCitiesByCountry"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">http:urlEncoded</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:mimeXml</span> <span class="attribute">part</span>=<span class="value">"Body"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:binding</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:binding</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpPost"</span> <span class="attribute">type</span>=<span class="value">"tns:GlobalWeatherHttpPost"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">http:binding</span> <span class="attribute">verb</span>=<span class="value">"POST"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetWeather"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:operation</span> <span class="attribute">location</span>=<span class="value">"/GetWeather"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:content</span> <span class="attribute">type</span>=<span class="value">"application/x-www-form-urlencoded"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:mimeXml</span> <span class="attribute">part</span>=<span class="value">"Body"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:operation</span> <span class="attribute">name</span>=<span class="value">"GetCitiesByCountry"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:operation</span> <span class="attribute">location</span>=<span class="value">"/GetCitiesByCountry"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:input</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:content</span> <span class="attribute">type</span>=<span class="value">"application/x-www-form-urlencoded"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:input</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">wsdl:output</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="title">mime:mimeXml</span> <span class="attribute">part</span>=<span class="value">"Body"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="title">wsdl:output</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:operation</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:binding</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">wsdl:service</span> <span class="attribute">name</span>=<span class="value">"GlobalWeather"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:port</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherSoap"</span> <span class="attribute">binding</span>=<span class="value">"tns:GlobalWeatherSoap"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap:address</span> <span class="attribute">location</span>=<span class="value">"http://www.webservicex.net/globalweather.asmx"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:port</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:port</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherSoap12"</span> <span class="attribute">binding</span>=<span class="value">"tns:GlobalWeatherSoap12"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">soap12:address</span> <span class="attribute">location</span>=<span class="value">"http://www.webservicex.net/globalweather.asmx"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:port</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:port</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpGet"</span> <span class="attribute">binding</span>=<span class="value">"tns:GlobalWeatherHttpGet"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:address</span> <span class="attribute">location</span>=<span class="value">"http://www.webservicex.net/globalweather.asmx"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:port</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="title">wsdl:port</span> <span class="attribute">name</span>=<span class="value">"GlobalWeatherHttpPost"</span> <span class="attribute">binding</span>=<span class="value">"tns:GlobalWeatherHttpPost"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="title">http:address</span> <span class="attribute">location</span>=<span class="value">"http://www.webservicex.net/globalweather.asmx"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="title">wsdl:port</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="title">wsdl:service</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">wsdl:definitions</span>&gt;</span></div></pre></td></tr></table></figure>

<p>另外github上还有一些Gradle的插件来帮你实现xml和java对象的转换，但是本质上其实还是使用了jaxb的xjc ant插件实现的，只不过隐藏了实现细节，使用起来更加方便。感兴趣的可以看<a href="https://github.com/jacobono/gradle-jaxb-plugin" target="_blank" rel="external">https://github.com/jacobono/gradle-jaxb-plugin</a>。</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/Gradle/" class="post__tag__link">Gradle</a></li><li class="post__tag__item"><a href="/tags/CI/" class="post__tag__link">CI</a></li><li class="post__tag__item"><a href="/tags/Jaxb/" class="post__tag__link">Jaxb</a></li></ul><a href="/2014/10/30/using-jaxb-in-gradle/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article><article class="post"><header class="post__head"><span class="post__time">黄博文</span><span class="post__time"> @ </span><time datetime="2014-10-30T03:13:25.000Z" class="post__time">October 30, 2014</time><h1 class="post__title"><a href="/2014/10/30/build-script-in-gradle/">Gradle中的buildScript代码块</a></h1></header><div class="post__main echo"><p>在编写Gradle脚本的时候，在build.gradle文件中经常看到这样的代码：</p>
<a id="more"></a>
<figure class="highlight groovy"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"><span class="gradle"><span class="keyword">buildScript</span> {</span></div><div class="line">     <span class="keyword">repositories</span> {</div><div class="line">         mavenCentral()</div><div class="line">}</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">repositories</span> {</div><div class="line">     mavenCentral()</div><div class="line">}</div></pre></td></tr></table></figure>

<p>这样子很容易让人奇怪，为什么repositories要声明两次哪？buildscript代码块中的声明与下半部分声明有什么不同？</p>
<p>其实答案非常简单。buildscript中的声明是gradle脚本自身需要使用的资源。可以声明的资源包括依赖项、第三方插件、maven仓库地址等。而在build.gradle文件中直接声明的依赖项、仓库地址等信息是项目自身需要的资源。</p>
<p>gradle是由groovy语言编写的，支持groovy语法，可以灵活的使用已有的各种ant插件、基于jvm的类库，这也是它比maven、ant等构建脚本强大的原因。虽然gradle支持开箱即用，但是如果你想在脚本中使用一些第三方的插件、类库等，就需要自己手动添加对这些插件、类库的引用。而这些插件、类库又不是直接服务于项目的，而是支持其它build脚本的运行。所以你应当将这部分的引用放置在buildscript代码块中。gradle在执行脚本时，会优先执行buildscript代码块中的内容，然后才会执行剩余的build脚本。</p>
<p>举个例子，假设我们要编写一个task，用于解析csv文件并输出其内容。虽然我们可以使用gradle编写解析csv文件的代码，但其实apache有个库已经实现了一个解析csv文件的库供我们直接使用。我们如果想要使用这个库，需要在gradle.build文件中加入对该库的引用。</p>
<figure class="highlight groovy"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">buildscript</span> {</div><div class="line">    <span class="keyword">repositories</span> {</div><div class="line">        mavenLocal()</div><div class="line">        mavenCentral()</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">dependencies</span> {</div><div class="line">        <span class="keyword">classpath</span> <span class="string">'org.apache.commons:commons-csv:1.0'</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.commons.csv.*</div><div class="line"></div><div class="line"><span class="keyword">task</span> printCSV() {</div><div class="line">    <span class="keyword">doLast</span> {</div><div class="line">        <span class="keyword">def</span> records = CSVFormat.EXCEL.parse(<span class="keyword">new</span> FileReader(<span class="string">'config/sample.csv'</span>))</div><div class="line">        <span class="keyword">for</span> (item in records) {</div><div class="line">            <span class="keyword">print</span> item.get(<span class="number">0</span>) + <span class="string">' '</span></div><div class="line">            <span class="keyword">println</span> item.get(<span class="number">1</span>)</div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p>buildscript代码块中的repositories和dependencies的使用方式与直接在build.gradle文件中的使用方式几乎完全一样。唯一不同之处是在buildscript代码块中你可以对dependencies使用classpath声明。该classpath声明说明了在执行其余的build脚本时，class loader可以使用这些你提供的依赖项。这也正是我们使用buildscript代码块的目的。</p>
<p>而如果你的项目中需要使用该类库的话，就需要定义在buildscript代码块之外的dependencies代码块中。所以有可能会看到在build.gradle中出现以下代码：</p>
<figure class="highlight groovy"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">repositories</span> {</div><div class="line">    mavenLocal()</div><div class="line">    mavenCentral()</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">dependencies</span> {</div><div class="line">    <span class="keyword">compile</span> <span class="string">'org.springframework.ws:spring-ws-core:2.2.0.RELEASE'</span>,</div><div class="line">            <span class="string">'org.apache.commons:commons-csv:1.0'</span></div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">buildscript</span> {</div><div class="line">    <span class="keyword">repositories</span> {</div><div class="line">        mavenLocal()</div><div class="line">        mavenCentral()</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">dependencies</span> {</div><div class="line">        <span class="keyword">classpath</span> <span class="string">'org.apache.commons:commons-csv:1.0'</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.commons.csv.*</div><div class="line"></div><div class="line"><span class="keyword">task</span> printCSV() {</div><div class="line">    <span class="keyword">doLast</span> {</div><div class="line">        <span class="keyword">def</span> records = CSVFormat.EXCEL.parse(<span class="keyword">new</span> FileReader(<span class="string">'config/sample.csv'</span>))</div><div class="line">        <span class="keyword">for</span> (item in records) {</div><div class="line">            <span class="keyword">print</span> item.get(<span class="number">0</span>) + <span class="string">' '</span></div><div class="line">            <span class="keyword">println</span> item.get(<span class="number">1</span>)</div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p>官方具体解释请参见：<a href="http://chimera.labs.oreilly.com/books/1234000001741/ch04.html#_buildscript_dependencies" target="_blank" rel="external">http://chimera.labs.oreilly.com/books/1234000001741/ch04.html#_buildscript_dependencies</a></p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/Gradle/" class="post__tag__link">Gradle</a></li><li class="post__tag__item"><a href="/tags/Build/" class="post__tag__link">Build</a></li></ul><a href="/2014/10/30/build-script-in-gradle/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2015 Cloud & DevOps小组</div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="Previous" class="page-menu__link icon-arrow-left page-menu__link--disabled"></span></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer></body></html>